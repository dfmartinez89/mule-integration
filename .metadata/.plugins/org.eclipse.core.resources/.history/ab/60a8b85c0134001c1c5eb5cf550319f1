package actividad1ejercicio4;

import org.mule.api.MuleEventContext;
import org.mule.api.lifecycle.Callable;

public class CalcularDivisa implements Callable {
	private String input ;
	private int count;
	String salida;
	@Override
	public Object onCall(MuleEventContext eventContext) {
		try {
			String input = eventContext.getMessage().getInboundProperty("http.request.path");
			return input;
		} catch(Exception e) {
			e.printStackTrace();
			return ("Valor o formato incorrecto ");
		}
	}
	public String validarEntrada() {
		if (input.contains("/dollar2eur")) {
			//double dollar = Integer.parseInt((input.substring(12)));
			String [] entrada = input.split("/");
			//double euro = dollar/1.16;
			for (int i = 0; i < count; i++)
				salida = (entrada[i]);
		}
		return ("La cantidad en euros es " + salida) ;
	}
}



